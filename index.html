<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Live Problem Set</title>

  <!-- Google Identity Services -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <link rel="stylesheet" href="styles.css">
  <style>


    /* hide 4th column when the table has .tags-hidden */
    #problemsTable.tags-hidden th:nth-child(4),
    #problemsTable.tags-hidden td:nth-child(4) {
      display: none;
    }

    /* small helper layout for sign-in area */
    #gsi-container { margin-left: 12px; display:inline-block; }
    #userArea { display:inline-flex; gap:8px; align-items:center; margin-left:12px; }
  </style>
</head>
<body>
  <div class="top">
    <h2 style="margin:0">Live Problem Set</h2>
    <div class="stats muted" id="summary">Loading…</div>
  </div>

  <div class="controls">
    <label>Member:
      <select id="memberSelect" class="inline-select">
        <option value="Dugar">Dugar</option>
        <option value="Dalai">Dalai</option>
        <option value="Amra">Amra</option>
      </select>
    </label>

    <label>Quick filter:
      <select id="filterSelect" class="inline-select">
        <option value="all">All</option>
        <option value="solved">Solved</option>
        <option value="unsolved">Unsolved</option>
        <option value="no submission">No submission</option>
      </select>
    </label>

    <label>Sort by:
      <select id="sortSelect" class="inline-select">
        <option value="difficulty_desc">Difficulty ↓</option>
        <option value="difficulty_asc">Difficulty ↑</option>
        <option value="teams_solved_desc">Teams solved ↓</option>
        <option value="id_asc">ID ↑</option>
      </select>
    </label>

    <label>Search:
      <input id="searchInput" type="search" placeholder="name, tags, contest" />
    </label>

    <button id="toggle-tags" class="btn">Show tags</button>

    <!-- Google Sign-in area -->
    <div id="gsi-container">
      <!-- Replace CLIENT_ID below with your OAuth Web application client id -->
      <div id="g_id_onload"
           data-client_id="628236096961-kcnq11hjvhlvaosu8rhhsj7on595lt2a.apps.googleusercontent.com"
           data-callback="handleCredentialResponse"
           data-auto_prompt="false">
      </div>
      <div class="g_id_signin" data-type="standard" data-size="medium"></div>
    </div>

    <!-- Signed-in user info -->
    <div id="userArea">
      <div id="userInfo" style="font-size:0.95rem"></div>
      <button id="logoutBtn" class="btn" style="display:none">Log out</button>
    </div>
  </div>

  <div style="overflow:auto">
    <!-- table starts with tags-hidden so column won't flash -->
    <table id="problemsTable" class="tags-hidden" aria-describedby="summary">
      <thead>
        <tr>
          <th style="width:70px">ID</th>
          <th>Contest</th>
          <th>Name</th>
          <th>Tags</th>
          <th>Difficulty</th>
          <th style="width:120px">Teams solved</th>
          <th style="width:180px">Status (click to edit)</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script src="scripts.js"></script>
</body>
</html>
